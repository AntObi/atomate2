
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>VASP &#8212; atomate2</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=4ec06e9971c5264fbd345897d5258098f11cc577" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/github.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=8bf782fb4ee92b3d3646425e50f299c4e1fd152d"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/codes/vasp';</script>
    <link rel="canonical" href="https://materialsproject.github.io/atomate2/user/codes/vasp.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="API reference" href="../../reference/index.html" />
    <link rel="prev" title="Codes" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">atomate2</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../running-workflows.html">
                        Running Workflows
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../fireworks.html">
                        Using atomate2 with FireWorks
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Codes
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../dev/dev_install.html">
                        Developer Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../dev/vasp_tests.html">
                        Writing VASP Tests
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/changelog.html">
                        Change log
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/contributors.html">
                        Contributors
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/contributing.html">
                        Contributing to atomate2
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/license.html">
                        License
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../index.html">
                        Introduction
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../install.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../running-workflows.html">
                        Running Workflows
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../fireworks.html">
                        Using atomate2 with FireWorks
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Codes
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../dev/dev_install.html">
                        Developer Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../dev/vasp_tests.html">
                        Writing VASP Tests
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/changelog.html">
                        Change log
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/contributors.html">
                        Contributors
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/contributing.html">
                        Contributing to atomate2
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../about/license.html">
                        License
                      </a>
                    </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">atomate2</p>
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running-workflows.html">Running Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fireworks.html">Using atomate2 with FireWorks</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">Codes</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">VASP</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/atomate2.amset.html">atomate2.amset</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.amset.files.html">atomate2.amset.files</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.files.copy_amset_files.html">copy_amset_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.files.write_amset_settings.html">write_amset_settings</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.amset.jobs.html">atomate2.amset.jobs</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.jobs.AmsetMaker.html">AmsetMaker</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.amset.run.html">atomate2.amset.run</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.run.check_converged.html">check_converged</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.run.run_amset.html">run_amset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.run.tensor_average.html">tensor_average</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.amset.schemas.html">atomate2.amset.schemas</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.schemas.AmsetTaskDocument.html">AmsetTaskDocument</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.schemas.MeshData.html">MeshData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.schemas.TransportData.html">TransportData</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.schemas.UsageStats.html">UsageStats</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.amset.schemas.amset.html">amset</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/atomate2.common.html">atomate2.common</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.common.analysis.html">atomate2.common.analysis</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.analysis.elastic.html">atomate2.common.analysis.elastic</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.common.files.html">atomate2.common.files</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.copy_files.html">copy_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.delete_files.html">delete_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.find_and_filter_files.html">find_and_filter_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.get_zfile.html">get_zfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.gunzip_files.html">gunzip_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.gzip_files.html">gzip_files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.files.rename_files.html">rename_files</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.common.flows.html">atomate2.common.flows</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.flows.defect.html">atomate2.common.flows.defect</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.common.jobs.html">atomate2.common.jobs</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.jobs.defect.html">atomate2.common.jobs.defect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.jobs.utils.html">atomate2.common.jobs.utils</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.common.schemas.html">atomate2.common.schemas</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.cclib.html">atomate2.common.schemas.cclib</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.defects.html">atomate2.common.schemas.defects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.elastic.html">atomate2.common.schemas.elastic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.math.html">atomate2.common.schemas.math</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.molecule.html">atomate2.common.schemas.molecule</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.structure.html">atomate2.common.schemas.structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.common.schemas.symmetry.html">atomate2.common.schemas.symmetry</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/atomate2.settings.html">atomate2.settings</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../reference/atomate2.settings.Atomate2Settings.html">Atomate2Settings</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/atomate2.utils.html">atomate2.utils</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.utils.datetime.html">atomate2.utils.datetime</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.datetime.datetime_str.html">datetime_str</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.utils.file_client.html">atomate2.utils.file_client</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.file_client.auto_fileclient.html">auto_fileclient</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.file_client.get_ssh_connection.html">get_ssh_connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.file_client.FileClient.html">FileClient</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.utils.log.html">atomate2.utils.log</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.log.initialize_logger.html">initialize_logger</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.utils.path.html">atomate2.utils.path</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.path.find_recent_logfile.html">find_recent_logfile</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.path.get_uri.html">get_uri</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.utils.path.strip_hostname.html">strip_hostname</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.html">atomate2.vasp</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.builders.html">atomate2.vasp.builders</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.builders.elastic.html">atomate2.vasp.builders.elastic</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.drones.html">atomate2.vasp.drones</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-22"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.drones.VaspDrone.html">VaspDrone</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.files.html">atomate2.vasp.files</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-23"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.files.copy_vasp_outputs.html">copy_vasp_outputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.files.get_largest_relax_extension.html">get_largest_relax_extension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.files.write_vasp_input_set.html">write_vasp_input_set</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.flows.html">atomate2.vasp.flows</a><input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-24"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.amset.html">atomate2.vasp.flows.amset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.html">atomate2.vasp.flows.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.defect.html">atomate2.vasp.flows.defect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.elastic.html">atomate2.vasp.flows.elastic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.elph.html">atomate2.vasp.flows.elph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.lobster.html">atomate2.vasp.flows.lobster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.flows.phonons.html">atomate2.vasp.flows.phonons</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.html">atomate2.vasp.jobs</a><input class="toctree-checkbox" id="toctree-checkbox-25" name="toctree-checkbox-25" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-25"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.amset.html">atomate2.vasp.jobs.amset</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.base.html">atomate2.vasp.jobs.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.html">atomate2.vasp.jobs.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.defect.html">atomate2.vasp.jobs.defect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.elastic.html">atomate2.vasp.jobs.elastic</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.elph.html">atomate2.vasp.jobs.elph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.lobster.html">atomate2.vasp.jobs.lobster</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.jobs.phonons.html">atomate2.vasp.jobs.phonons</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.html">atomate2.vasp.powerups</a><input class="toctree-checkbox" id="toctree-checkbox-26" name="toctree-checkbox-26" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-26"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.update_user_incar_settings.html">update_user_incar_settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.update_user_kpoints_settings.html">update_user_kpoints_settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.update_user_potcar_functional.html">update_user_potcar_functional</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.update_user_potcar_settings.html">update_user_potcar_settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.powerups.use_auto_ispin.html">use_auto_ispin</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.run.html">atomate2.vasp.run</a><input class="toctree-checkbox" id="toctree-checkbox-27" name="toctree-checkbox-27" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-27"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.run.run_vasp.html">run_vasp</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.run.should_stop_children.html">should_stop_children</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.run.JobType.html">JobType</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.html">atomate2.vasp.schemas</a><input class="toctree-checkbox" id="toctree-checkbox-28" name="toctree-checkbox-28" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-28"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.calc_types.html">atomate2.vasp.schemas.calc_types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.calculation.html">atomate2.vasp.schemas.calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.defect.html">atomate2.vasp.schemas.defect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.elph.html">atomate2.vasp.schemas.elph</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.phonons.html">atomate2.vasp.schemas.phonons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.schemas.task.html">atomate2.vasp.schemas.task</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/atomate2.vasp.sets.html">atomate2.vasp.sets</a><input class="toctree-checkbox" id="toctree-checkbox-29" name="toctree-checkbox-29" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-29"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.sets.base.html">atomate2.vasp.sets.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.sets.core.html">atomate2.vasp.sets.core</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.sets.defect.html">atomate2.vasp.sets.defect</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/atomate2.vasp.sets.lobster.html">atomate2.vasp.sets.lobster</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Developer Guide</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../dev/dev_install.html">Developer Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/vasp_tests.html">Writing VASP Tests</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">About</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../about/changelog.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/contributors.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/contributing.html">Contributing to atomate2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/license.html">License</a></li>
</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" data-toggle="tooltip" data-placement="right" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/materialsproject/atomate2" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">repository</span>
</a>
</a>
      
      <li><a href="https://github.com/materialsproject/atomate2/issues/new?title=Issue%20on%20page%20%2Fuser/codes/vasp.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
      <li><a href="https://github.com/materialsproject/atomate2/edit/main/docs/user/codes/vasp.md" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">suggest edit</span>
</a>
</a>
      
  </ul>
</div>



<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="../../_sources/user/codes/vasp.md" target="_blank"
   class="btn btn-sm dropdown-item"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</a>
      
      <li>
<button onclick="printPdf(this)"
  class="btn btn-sm dropdown-item"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</a>
      
  </ul>
</div>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary" data-toggle="tooltip" data-placement="left" title="Toggle secondary sidebar">
            <span class="fa-solid fa-list"></span>
        </label>
    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>VASP</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configuration">
   Configuration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-of-vasp-workflows">
   List of VASP workflows
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#static">
     Static
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#relax">
     Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tight-relax">
     Tight Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dielectric">
     Dielectric
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transmuter">
     Transmuter
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-static">
     HSE06 Static
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-relax">
     HSE06 Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-tight-relax">
     HSE06 Tight Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#double-relax">
     Double Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#band-structure">
     Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uniform-band-structure">
     Uniform Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#line-mode-band-structure">
     Line-Mode Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-band-structure">
     HSE06 Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-uniform-band-structure">
     HSE06 Uniform Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-line-mode-band-structure">
     HSE06 Line-Mode Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#relax-and-band-structure">
     Relax and Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#elastic-constant">
     Elastic Constant
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optics">
     Optics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-optics">
     HSE06 Optics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#phonons">
     Phonons
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modifying-input-sets">
   Modifying input sets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chaining-workflows">
   Chaining workflows
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <section class="tex2jax_ignore mathjax_ignore" id="vasp">
<span id="codes-vasp"></span><h1>VASP<a class="headerlink" href="#vasp" title="Permalink to this heading">#</a></h1>
<p>At present, most workflows in atomate2 use the Vienna <em>ab initio</em> simulation package
(VASP) as the density functional theory code.</p>
<p>By default, the input sets used in atomate2 differ from the input sets used in atomate1
and are inconsistent with calculations performed in the Materials Project. The primary
differences are:</p>
<ul class="simple">
<li><p>Use of the PBEsol exchange–correlation functional instead of PBE.</p></li>
<li><p>Use of up-to-date pseudopotentials (PBE_54 instead of PBE_52).</p></li>
<li><p>Use of KSPACING for most calculations.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The different input sets used in atomate2 mean total energies cannot be compared
against energies taken from the Materials Project unless the default settings are
modified accordingly.</p>
</div>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<p>These workflows require VASP to be installed and on the path. Furthermore, the pymatgen
package is used to write VASP input files such as POTCARs. Accordingly, pymatgen
must be aware of where the pseudopotentials are installed. Please see the <a class="reference external" href="https://pymatgen.org/installation.html#potcar-setup">pymatgen
POTCAR setup guide</a> for more
details.</p>
<p>All settings for controlling VASP execution can be set using the <code class="docutils literal notranslate"><span class="pre">~/.atomate2.yaml</span></code>
configuration file or using environment variables. For more details on configuring
atomate2, see the <a class="reference internal" href="../install.html#installation"><span class="std std-ref">Installation page</span></a>.</p>
<p>The most important settings to consider are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VASP_CMD</span></code>: The command used to run the standard version of VASP. I.e., something like
<code class="docutils literal notranslate"><span class="pre">mpi_run</span> <span class="pre">-n</span> <span class="pre">16</span> <span class="pre">vasp_std</span> <span class="pre">&gt;</span> <span class="pre">vasp.out</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VASP_GAMMA_CMD</span></code>: The command used to run the gamma-only version of VASP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VASP_NCL_CMD</span></code>: The command used to run the non-collinear version of VASP.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VASP_INCAR_UPDATES</span></code>: Updates to apply to VASP INCAR files. This allows you to
customise input sets on different machines, without having to change the submitted
workflows. For example, you can set certain parallelization parameters, such as
NCORE, KPAR etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VASP_VDW_KERNEL_DIR</span></code>: The path to the VASP Van der Waals kernel.</p></li>
</ul>
</section>
<section id="list-of-vasp-workflows">
<span id="vasp-workflows"></span><h2>List of VASP workflows<a class="headerlink" href="#list-of-vasp-workflows" title="Permalink to this heading">#</a></h2>
<table class="table">
<colgroup>
<col style="width: 40%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Maker</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#static">Static</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.StaticMaker.html#atomate2.vasp.jobs.core.StaticMaker" title="atomate2.vasp.jobs.core.StaticMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StaticMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#relax">Relax</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.RelaxMaker.html#atomate2.vasp.jobs.core.RelaxMaker" title="atomate2.vasp.jobs.core.RelaxMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RelaxMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#tight-relax">Tight Relax</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.TightRelaxMaker.html#atomate2.vasp.jobs.core.TightRelaxMaker" title="atomate2.vasp.jobs.core.TightRelaxMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TightRelaxMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#dielectric">Dielectric</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.DielectricMaker.html#atomate2.vasp.jobs.core.DielectricMaker" title="atomate2.vasp.jobs.core.DielectricMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DielectricMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#transmuter">Transmuter</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.TransmuterMaker.html#atomate2.vasp.jobs.core.TransmuterMaker" title="atomate2.vasp.jobs.core.TransmuterMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TransmuterMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hse06-static">HSE06 Static</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.HSEStaticMaker.html#atomate2.vasp.jobs.core.HSEStaticMaker" title="atomate2.vasp.jobs.core.HSEStaticMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSEStaticMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hse06-relax">HSE06 Relax</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.HSERelaxMaker.html#atomate2.vasp.jobs.core.HSERelaxMaker" title="atomate2.vasp.jobs.core.HSERelaxMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSERelaxMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hse06-tight-relax">HSE06 Tight Relax</a></p></td>
<td><p>job</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.jobs.core.HSETightRelaxMaker.html#atomate2.vasp.jobs.core.HSETightRelaxMaker" title="atomate2.vasp.jobs.core.HSETightRelaxMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSETightRelaxMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#double-relax">Double Relax</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.DoubleRelaxMaker.html#atomate2.vasp.flows.core.DoubleRelaxMaker" title="atomate2.vasp.flows.core.DoubleRelaxMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DoubleRelaxMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#band-structure">Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.BandStructureMaker.html#atomate2.vasp.flows.core.BandStructureMaker" title="atomate2.vasp.flows.core.BandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#uniform-band-structure">Uniform Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.UniformBandStructureMaker.html#atomate2.vasp.flows.core.UniformBandStructureMaker" title="atomate2.vasp.flows.core.UniformBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UniformBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#line-mode-band-structure">Line-Mode Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.LineModeBandStructureMaker.html#atomate2.vasp.flows.core.LineModeBandStructureMaker" title="atomate2.vasp.flows.core.LineModeBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LineModeBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hse06-band-structure">HSE06 Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.HSEBandStructureMaker.html#atomate2.vasp.flows.core.HSEBandStructureMaker" title="atomate2.vasp.flows.core.HSEBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSEBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#hse06-uniform-band-structure">HSE06 Uniform Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.HSEUniformBandStructureMaker.html#atomate2.vasp.flows.core.HSEUniformBandStructureMaker" title="atomate2.vasp.flows.core.HSEUniformBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSEUniformBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hse06-line-mode-band-structure">HSE06 Line-Mode Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.HSELineModeBandStructureMaker.html#atomate2.vasp.flows.core.HSELineModeBandStructureMaker" title="atomate2.vasp.flows.core.HSELineModeBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSELineModeBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#relax-and-band-structure">Relax and Band Structure</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.RelaxBandStructureMaker.html#atomate2.vasp.flows.core.RelaxBandStructureMaker" title="atomate2.vasp.flows.core.RelaxBandStructureMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RelaxBandStructureMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#elastic-constant">Elastic Constant</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.elastic.ElasticMaker.html#atomate2.vasp.flows.elastic.ElasticMaker" title="atomate2.vasp.flows.elastic.ElasticMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ElasticMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#optics">Optics</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.OpticsMaker.html#atomate2.vasp.flows.core.OpticsMaker" title="atomate2.vasp.flows.core.OpticsMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OpticsMaker</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#hse06-optics">HSE06 Optics</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.core.HSEOpticsMaker.html#atomate2.vasp.flows.core.HSEOpticsMaker" title="atomate2.vasp.flows.core.HSEOpticsMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HSEOpticsMaker</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#phonons">Phonons</a></p></td>
<td><p>flow</p></td>
<td><p><a class="reference internal" href="../../reference/atomate2.vasp.flows.phonons.PhononMaker.html#atomate2.vasp.flows.phonons.PhononMaker" title="atomate2.vasp.flows.phonons.PhononMaker"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PhononMaker</span></code></a></p></td>
</tr>
</tbody>
</table>
<section id="static">
<h3>Static<a class="headerlink" href="#static" title="Permalink to this heading">#</a></h3>
<p>A static VASP calculation (i.e., no relaxation).</p>
</section>
<section id="relax">
<h3>Relax<a class="headerlink" href="#relax" title="Permalink to this heading">#</a></h3>
<p>A VASP relaxation calculation. Full structural relaxation is performed.</p>
</section>
<section id="tight-relax">
<h3>Tight Relax<a class="headerlink" href="#tight-relax" title="Permalink to this heading">#</a></h3>
<p>A VASP relaxation calculation using tight convergence parameters. Full structural
relaxation is performed. This workflow is useful when small forces are required, such
as before calculating phonon properties.</p>
</section>
<section id="dielectric">
<h3>Dielectric<a class="headerlink" href="#dielectric" title="Permalink to this heading">#</a></h3>
<p>A VASP calculation to obtain dielectric properties. The static and high-frequency
dielectric constants are obtained using density functional perturbation theory.</p>
</section>
<section id="transmuter">
<h3>Transmuter<a class="headerlink" href="#transmuter" title="Permalink to this heading">#</a></h3>
<p>A generic calculation that transforms the structure (using one of the
<a class="reference external" href="https://pymatgen.org/pymatgen.transformations.html#module-pymatgen.transformations" title="(in pymatgen v2023.3.10)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pymatgen.transformations</span></code></a>) before writing the input sets. This can be used to
perform many structure operations such as making a supercell or symmetrising the
structure.</p>
</section>
<section id="hse06-static">
<h3>HSE06 Static<a class="headerlink" href="#hse06-static" title="Permalink to this heading">#</a></h3>
<p>A static VASP calculation (i.e., no relaxation) using the HSE06 exchange correlation
functional.</p>
</section>
<section id="hse06-relax">
<h3>HSE06 Relax<a class="headerlink" href="#hse06-relax" title="Permalink to this heading">#</a></h3>
<p>A VASP relaxation calculation using the HSE06 functional. Full structural relaxation
is performed.</p>
</section>
<section id="hse06-tight-relax">
<h3>HSE06 Tight Relax<a class="headerlink" href="#hse06-tight-relax" title="Permalink to this heading">#</a></h3>
<p>A VASP relaxation calculation using tight convergence parameters with the HSE06
functional. Full structural relaxation is performed.</p>
</section>
<section id="double-relax">
<h3>Double Relax<a class="headerlink" href="#double-relax" title="Permalink to this heading">#</a></h3>
<p>Perform two back-to-back relaxations. This can often help avoid errors arising from
Pulay stress.</p>
</section>
<section id="band-structure">
<h3>Band Structure<a class="headerlink" href="#band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate the electronic band structure. This flow consists of three calculations:</p>
<ol class="arabic simple">
<li><p>A static calculation to generate the charge density.</p></li>
<li><p>A non-self-consistent field calculation on a dense uniform mesh.</p></li>
<li><p>A non-self-consistent field calculation on the high-symmetry k-point path to generate
the line mode band structure.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="uniform-band-structure">
<h3>Uniform Band Structure<a class="headerlink" href="#uniform-band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate a uniform electronic band structure. This flow consists of two calculations:</p>
<ol class="arabic simple">
<li><p>A static calculation to generate the charge density.</p></li>
<li><p>A non-self-consistent field calculation on a dense uniform mesh.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="line-mode-band-structure">
<h3>Line-Mode Band Structure<a class="headerlink" href="#line-mode-band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate a line-mode electronic band structure. This flow consists of two calculations:</p>
<ol class="arabic simple">
<li><p>A static calculation to generate the charge density.</p></li>
<li><p>A non-self-consistent field calculation on a high-symmetry k-point path to generate
the line mode band structure.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="hse06-band-structure">
<h3>HSE06 Band Structure<a class="headerlink" href="#hse06-band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate the electronic band structure using HSE06. This flow consists of three
calculations:</p>
<ol class="arabic simple">
<li><p>A HSE06 static calculation to generate the charge density.</p></li>
<li><p>A HSE06 calculation on a dense uniform mesh.</p></li>
<li><p>A HSE06 calculation on the high-symmetry k-point path using zero weighted k-points.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="hse06-uniform-band-structure">
<h3>HSE06 Uniform Band Structure<a class="headerlink" href="#hse06-uniform-band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate a uniform electronic band structure using HSE06. This flow consists of two
calculations:</p>
<ol class="arabic simple">
<li><p>A HSE06 static calculation to generate the charge density.</p></li>
<li><p>A HSE06 non-self-consistent field calculation on a dense uniform mesh.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="hse06-line-mode-band-structure">
<h3>HSE06 Line-Mode Band Structure<a class="headerlink" href="#hse06-line-mode-band-structure" title="Permalink to this heading">#</a></h3>
<p>Calculate a line-mode electronic band structure using HSE06. This flow consists of two
calculations:</p>
<ol class="arabic simple">
<li><p>A HSE06 static calculation to generate the charge density.</p></li>
<li><p>A HSE06 non-self-consistent field calculation on a high-symmetry k-point path to
generate the line mode band structure.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Band structure objects are automatically stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> store due to
limitations on mongoDB collection sizes.</p>
</div>
</section>
<section id="relax-and-band-structure">
<h3>Relax and Band Structure<a class="headerlink" href="#relax-and-band-structure" title="Permalink to this heading">#</a></h3>
<p>Perform a relaxation and then run the Band Structure workflow. By default, a
Double Relax relaxation is performed.</p>
</section>
<section id="elastic-constant">
<h3>Elastic Constant<a class="headerlink" href="#elastic-constant" title="Permalink to this heading">#</a></h3>
<p>Calculate the elastic constant of a material. Initially, a tight structural relaxation
is performed to obtain the structure in a state of approximately zero stress.
Subsequently, perturbations are applied to the lattice vectors and the resulting
stress tensor is calculated from DFT, while allowing for relaxation of the ionic degrees
of freedom. Finally, constitutive relations from linear elasticity, relating stress and
strain, are employed to fit the full 6x6 elastic tensor. From this, aggregate properties
such as Voigt and Reuss bounds on the bulk and shear moduli are derived.</p>
<p>See the Materials Project <a class="reference external" href="https://docs.materialsproject.org/methodology/elasticity/">documentation on elastic constants</a> for more details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is strongly recommended to symmetrize the structure before running this workflow.
Otherwise, the symmetry reduction routines will not be as effective at reducing the
number of deformations needed.</p>
</div>
</section>
<section id="optics">
<h3>Optics<a class="headerlink" href="#optics" title="Permalink to this heading">#</a></h3>
<p>Calculate the frequency dependent dielectric response of a material.</p>
<p>This workflow contains an initial static calculation, and then a non-self-consistent
field calculation with LOPTICS set. The purpose of the static calculation is to
determine i) if the material needs magnetism set, and ii) the total number of bands (the
non-scf calculation contains 1.3 * number of bands in the static calculation) as often
the highest bands are not properly converged in VASP.</p>
</section>
<section id="hse06-optics">
<h3>HSE06 Optics<a class="headerlink" href="#hse06-optics" title="Permalink to this heading">#</a></h3>
<p>Calculate the frequency dependent dielectric response of a material using HSE06.</p>
<p>This workflow contains an initial static calculation, and then a uniform band structure
calculation with LOPTICS set. The purpose of the static calculation is to determine i)
if the material needs magnetism set, and ii) the total number of bands (the uniform
contains 1.3 * number of bands in the static calculation) as often the highest bands are
not properly converged in VASP.</p>
</section>
<section id="phonons">
<h3>Phonons<a class="headerlink" href="#phonons" title="Permalink to this heading">#</a></h3>
<p>Calculate the harmonic phonons of a material.</p>
<p>Initially, a tight structural relaxation is performed to obtain a structure without forces
on the atoms. Subsequently, supercells with one displaced atom are generated and accurate
forces are computed for these structures. With the help of phonopy, these forces are then
converted into a dynamical matrix. To correct for polarization effects, a correction of the
dynamical matrix based on BORN charges can be performed. Finally, phonon densities of states,
phonon band structures and thermodynamic properties are computed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is heavily recommended to symmetrize the structure before passing it to
this flow. Otherwise, a different space group might be detected and too
many displacement calculations will be generated.
It is recommended to check the convergence parameters here and
adjust them if necessary. The default might not be strict enough
for your specific case.</p>
</div>
</section>
</section>
<section id="modifying-input-sets">
<span id="id1"></span><h2>Modifying input sets<a class="headerlink" href="#modifying-input-sets" title="Permalink to this heading">#</a></h2>
<p>The inputs for a calculation can be modified in several ways. Every VASP job
takes a <a class="reference internal" href="../../reference/atomate2.vasp.sets.base.VaspInputGenerator.html#atomate2.vasp.sets.base.VaspInputGenerator" title="atomate2.vasp.sets.base.VaspInputGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VaspInputGenerator</span></code></a> as an argument (<code class="docutils literal notranslate"><span class="pre">input_set_generator</span></code>). One
option is to specify an alternative input set generator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">atomate2.vasp.sets.core</span> <span class="kn">import</span> <span class="n">StaticSetGenerator</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.jobs.core</span> <span class="kn">import</span> <span class="n">StaticMaker</span>

<span class="c1"># create a custom input generator set with a larger ENCUT</span>
<span class="n">my_custom_set</span> <span class="o">=</span> <span class="n">StaticSetGenerator</span><span class="p">(</span><span class="n">user_incar_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ENCUT&quot;</span><span class="p">:</span> <span class="mi">800</span><span class="p">})</span>

<span class="c1"># initialise the static maker to use the custom input set generator</span>
<span class="n">static_maker</span> <span class="o">=</span> <span class="n">StaticMaker</span><span class="p">(</span><span class="n">input_set_generator</span><span class="o">=</span><span class="n">my_custom_set</span><span class="p">)</span>

<span class="c1"># create a job using the customised maker</span>
<span class="n">static_job</span> <span class="o">=</span> <span class="n">static_maker</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>
</pre></div>
</div>
<p>The second approach is to edit the job after it has been made. All VASP jobs have a
<code class="docutils literal notranslate"><span class="pre">maker</span></code> attribute containing a <em>copy</em> of the <code class="docutils literal notranslate"><span class="pre">Maker</span></code> that made them. Updating
the <code class="docutils literal notranslate"><span class="pre">input_set_generator</span></code> attribute maker will update the input set that gets
written:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">static_job</span><span class="o">.</span><span class="n">maker</span><span class="o">.</span><span class="n">input_set_generator</span><span class="o">.</span><span class="n">user_incar_settings</span><span class="p">[</span><span class="s2">&quot;LOPTICS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Finally, sometimes you have a workflow containing many VASP jobs. In this case it can be
tedious to update the input sets for each job individually. Atomate2 provides helper
functions called “powerups” that can apply settings updates to all VASP jobs in a flow.
These powerups also contain filters for the name of the job and the maker used to
generate them.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">atomate2.vasp.powerups</span> <span class="kn">import</span> <span class="n">update_user_incar_settings</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.flows.elastic</span> <span class="kn">import</span> <span class="n">ElasticMaker</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.flows.core</span> <span class="kn">import</span> <span class="n">DoubleRelaxMaker</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.jobs.elastic</span> <span class="kn">import</span> <span class="n">ElasticRelaxMaker</span>

<span class="c1"># make a flow to calculate the elastic constants</span>
<span class="n">elastic_flow</span> <span class="o">=</span> <span class="n">ElasticMaker</span><span class="p">()</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>

<span class="c1"># update the ENCUT of all VASP jobs in the flow</span>
<span class="n">new_flow</span> <span class="o">=</span> <span class="n">update_user_incar_settings</span><span class="p">(</span><span class="n">elastic_flow</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;ENCUT&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">})</span>

<span class="c1"># only update VASP jobs which have &quot;deformation&quot; in the job name.</span>
<span class="n">new_flow</span> <span class="o">=</span> <span class="n">update_user_incar_settings</span><span class="p">(</span>
    <span class="n">elastic_flow</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;ENCUT&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span> <span class="n">name_filter</span><span class="o">=</span><span class="s2">&quot;deformation&quot;</span>
<span class="p">)</span>

<span class="c1"># only update VASP jobs which were generated by an ElasticRelaxMaker</span>
<span class="n">new_flow</span> <span class="o">=</span> <span class="n">update_user_incar_settings</span><span class="p">(</span>
    <span class="n">elastic_flow</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;ENCUT&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span> <span class="n">class_filter</span><span class="o">=</span><span class="n">ElasticRelaxMaker</span>
<span class="p">)</span>

<span class="c1"># powerups can also be applied directly to a Maker. This can be useful for makers</span>
<span class="c1"># that produce flows, as it allows you to update all nested makers. E.g.</span>
<span class="n">relax_maker</span> <span class="o">=</span> <span class="n">DoubleRelaxMaker</span><span class="p">()</span>
<span class="n">new_maker</span> <span class="o">=</span> <span class="n">update_user_incar_settings</span><span class="p">(</span><span class="n">relax_maker</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;ENCUT&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">})</span>
<span class="n">flow</span> <span class="o">=</span> <span class="n">new_maker</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>  <span class="c1"># this flow will reflect the updated ENCUT value</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Powerups return a copy of the original flow or Maker and do not modify it in place.</p>
</div>
<p>In addition to the ability to change INCAR parameters on-the-fly, the
<a class="reference internal" href="../../reference/atomate2.vasp.sets.base.VaspInputGenerator.html#atomate2.vasp.sets.base.VaspInputGenerator" title="atomate2.vasp.sets.base.VaspInputGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VaspInputGenerator</span></code></a>, <code class="docutils literal notranslate"><span class="pre">Maker</span></code> object, and “powerups” allow for the manual
modification of several additional VASP settings, such as the k-points
(<code class="docutils literal notranslate"><span class="pre">user_kpoints_settings</span></code>) and choice of pseudopotentials (<code class="docutils literal notranslate"><span class="pre">user_potcar_settings</span></code>).</p>
<p>If a greater degree of flexibility is needed, the user can define a default set of input
arguments (<code class="docutils literal notranslate"><span class="pre">config_dict</span></code>) that can be provided to the <a class="reference internal" href="../../reference/atomate2.vasp.sets.base.VaspInputGenerator.html#atomate2.vasp.sets.base.VaspInputGenerator" title="atomate2.vasp.sets.base.VaspInputGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VaspInputGenerator</span></code></a>.
By default, the <a class="reference internal" href="../../reference/atomate2.vasp.sets.base.VaspInputGenerator.html#atomate2.vasp.sets.base.VaspInputGenerator" title="atomate2.vasp.sets.base.VaspInputGenerator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VaspInputGenerator</span></code></a> uses a base set of VASP input parameters
from <code class="xref py py-obj docutils literal notranslate"><span class="pre">BaseVaspSet.yaml</span></code>, which each <code class="docutils literal notranslate"><span class="pre">Maker</span></code> is built upon. If desired, the user can
define a custom <code class="docutils literal notranslate"><span class="pre">.yaml</span></code> file that contains a different base set of VASP settings to use.
An example of how this can be done is shown below for a representative static
calculation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">atomate2.vasp.sets.core</span> <span class="kn">import</span> <span class="n">StaticSetGenerator</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.jobs.core</span> <span class="kn">import</span> <span class="n">StaticMaker</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.jobs.base</span> <span class="kn">import</span> <span class="n">VaspInputGenerator</span>
<span class="kn">from</span> <span class="nn">monty.serialization</span> <span class="kn">import</span> <span class="n">loadfn</span>

<span class="c1"># read in a custom config file</span>
<span class="n">user_config_dict</span> <span class="o">=</span> <span class="n">loadfn</span><span class="p">(</span><span class="s2">&quot;/path/to/my/CustomVaspSet.yaml&quot;</span><span class="p">)</span>

<span class="c1"># create a custom static set generator with user-defined defaults. Also change the</span>
<span class="c1"># NELMIN parameter to 6 (for demonstration purposes)</span>
<span class="n">my_custom_set</span> <span class="o">=</span> <span class="n">StaticSetGenerator</span><span class="p">(</span>
    <span class="n">user_incar_settings</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;NELMIN&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">},</span>
    <span class="n">config_dict</span><span class="o">=</span><span class="n">user_config_dict</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># initialise the static maker to use the custom input set generator</span>
<span class="n">static_maker</span> <span class="o">=</span> <span class="n">StaticMaker</span><span class="p">(</span><span class="n">input_set_generator</span><span class="o">=</span><span class="n">my_custom_set</span><span class="p">)</span>

<span class="c1"># create a job using the customised maker</span>
<span class="n">static_job</span> <span class="o">=</span> <span class="n">static_maker</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="chaining-workflows">
<span id="connecting-vasp-jobs"></span><h2>Chaining workflows<a class="headerlink" href="#chaining-workflows" title="Permalink to this heading">#</a></h2>
<p>All VASP workflows are constructed using the <code class="docutils literal notranslate"><span class="pre">Maker.make()</span></code> function. The arguments
for this function always include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">structure</span></code>: A pymatgen structure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prev_vasp_dir</span></code>: A previous VASP directory to copy output files from.</p></li>
</ul>
<p>There are two options when chaining workflows:</p>
<ol class="arabic simple">
<li><p>Use only the structure from the previous calculation. This can be achieved by only
setting the <code class="docutils literal notranslate"><span class="pre">structure</span></code> argument.</p></li>
<li><p>Use the structure and additional outputs from a previous calculation. By default,
these outputs include INCAR settings, the band gap (used to automatically
set KSPACING), and the magnetic moments. Some workflows will also use other outputs.
For example, the Band Structure workflow will copy the CHGCAR file (charge
density) from the previous calculation. This can be achieved by setting both the
<code class="docutils literal notranslate"><span class="pre">structure</span></code> and <code class="docutils literal notranslate"><span class="pre">prev_vasp_dir</span></code> arguments.</p></li>
</ol>
<p>These two examples are illustrated in the code below, where we chain a relaxation
calculation and a static calculation.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jobflow</span> <span class="kn">import</span> <span class="n">Flow</span>
<span class="kn">from</span> <span class="nn">atomate2.vasp.jobs.core</span> <span class="kn">import</span> <span class="n">RelaxMaker</span><span class="p">,</span> <span class="n">StaticMaker</span>
<span class="kn">from</span> <span class="nn">pymatgen.core.structure</span> <span class="kn">import</span> <span class="n">Structure</span>

<span class="n">si_structure</span> <span class="o">=</span> <span class="n">Structure</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;Si.cif&quot;</span><span class="p">)</span>

<span class="c1"># create a relax job</span>
<span class="n">relax_job</span> <span class="o">=</span> <span class="n">RelaxMaker</span><span class="p">()</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">si_structure</span><span class="p">)</span>

<span class="c1"># create a static job that will use only the structure from the relaxation</span>
<span class="n">static_job</span> <span class="o">=</span> <span class="n">StaticMaker</span><span class="p">()</span><span class="o">.</span><span class="n">make</span><span class="p">(</span><span class="n">structure</span><span class="o">=</span><span class="n">relax_job</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">structure</span><span class="p">)</span>

<span class="c1"># create a static job that will use additional outputs from the relaxation</span>
<span class="n">static_job</span> <span class="o">=</span> <span class="n">StaticMaker</span><span class="p">()</span><span class="o">.</span><span class="n">make</span><span class="p">(</span>
    <span class="n">structure</span><span class="o">=</span><span class="n">relax_job</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">structure</span><span class="p">,</span> <span class="n">prev_vasp_dir</span><span class="o">=</span><span class="n">relax_job</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">dir_name</span>
<span class="p">)</span>

<span class="c1"># create a flow including the two jobs and set the output to be that of the static</span>
<span class="n">my_flow</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">([</span><span class="n">relax_job</span><span class="p">,</span> <span class="n">static_job</span><span class="p">],</span> <span class="n">output</span><span class="o">=</span><span class="n">static_job</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "materialsproject/atomate2",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./user/codes"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="index.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Codes</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="../../reference/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">API reference</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#configuration">
   Configuration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-of-vasp-workflows">
   List of VASP workflows
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#static">
     Static
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#relax">
     Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tight-relax">
     Tight Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dielectric">
     Dielectric
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transmuter">
     Transmuter
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-static">
     HSE06 Static
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-relax">
     HSE06 Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-tight-relax">
     HSE06 Tight Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#double-relax">
     Double Relax
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#band-structure">
     Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uniform-band-structure">
     Uniform Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#line-mode-band-structure">
     Line-Mode Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-band-structure">
     HSE06 Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-uniform-band-structure">
     HSE06 Uniform Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-line-mode-band-structure">
     HSE06 Line-Mode Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#relax-and-band-structure">
     Relax and Band Structure
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#elastic-constant">
     Elastic Constant
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optics">
     Optics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hse06-optics">
     HSE06 Optics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#phonons">
     Phonons
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modifying-input-sets">
   Modifying input sets
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#chaining-workflows">
   Chaining workflows
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By the Materials Project
</p>

  </div>
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on None.<br>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>